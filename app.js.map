{"version":3,"sources":["app/ball.js","app/game.js","app/initialize.js","app/player.js"],"names":[],"mappings":"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","file":"public/app.js","sourcesContent":["let Ball = class Ball {\n  constructor(properties) {\n    this.radius = properties.radius;\n    this.x = properties.x;\n    this.y = properties.y;\n    this.speed = properties.speed;\n    this.time = properties.time;\n    this.left = true;\n    this.angle = 0;\n    this.started = false;\n\n    this.initial_x = properties.x;\n    this.initial_y = properties.y;\n  }\n\n  start() {\n    this.started = true;\n  }\n\n  play() {\n    if (this.started) {\n      if (this.left) {\n        this.x -= this.speed;\n        this.y -= this.angle;\n      } else {\n        this.x += this.speed;\n        this.y += this.angle;\n      }\n    }\n  }\n\n  speedUp() {\n    this.speed += 1;\n  }\n\n  collidedWithPlayer(player, keyUpPressed, keyDownPressed) {\n    if (this.haveCollidedWith(player)) {\n      if (keyUpPressed) {\n        this.angle = this.randomNegativeAngle();\n      }\n\n      if (keyDownPressed) {\n        this.angle = this.randomPositiveAngle();\n      }\n\n      this.goRight();\n    }\n  }\n\n  collidedWithEnemy(enemy) {\n    if (this.haveCollidedWith(enemy)) {\n      this.angle = this.randomAngle();\n\n      this.goLeft();\n    }\n  }\n\n  collidedWithState(limit) {\n    if (this.haveCollidedWithState(limit)) {\n      this.angle = this.angle * -1;\n    }\n  }\n\n  reset() {\n    this.x = this.initial_x;\n    this.y = this.initial_y;\n    this.left = true;\n    this.angle = this.randomAngle();\n  }\n\n  haveCollidedWithState(limit) {\n    return (this.y - this.radius <= 0) || (this.y + this.radius > limit);\n  }\n\n  haveCollidedWith(player) {\n    if (this.y >= player.y && this.y <= (player.y + player.height)) {\n      return ((this.x + this.radius) >= player.x) && ((this.x - this.radius) <= (player.x + player.width));\n    }\n    return false;\n  }\n\n  goRight() {\n    this.left = false;\n  }\n\n  goLeft() {\n    this.left = true;\n  }\n\n  randomAngle() {\n    return this.randomPositiveAngle() + this.randomNegativeAngle();\n  }\n\n  randomPositiveAngle() {\n    return Math.floor(Math.random() * 10);\n  }\n\n  randomNegativeAngle() {\n    return 0 - Math.floor(Math.random() * 10);\n  }\n};\n\nexport default Ball;\n","import Player from './player';\nimport Ball from './ball';\n\nvar canvas = document.getElementById(\"pong\"),\n    context = canvas.getContext(\"2d\"),\n    keyUpPressed = false,\n    keyDownPressed= false,\n    gameRunning = true,\n    loopingInterval,\n    player,\n    enemy,\n    ball;\n\nfunction keyDown(e) {\n  if (e.keyCode == 38) {\n    keyUpPressed = true;\n  }\n  else if (e.keyCode == 40) {\n    keyDownPressed = true;\n  }\n}\n\nfunction keyUp(e) {\n  if (e.keyCode == 38) {\n    keyUpPressed = false;\n  }\n  else if (e.keyCode == 40) {\n    keyDownPressed = false;\n  }\n}\n\nfunction fullscreen(){\n  var el = document.getElementById('pong');\n\n  if(el.webkitRequestFullScreen) {\n    el.webkitRequestFullScreen();\n  }\n  else {\n    el.mozRequestFullScreen();\n  }\n}\n\nfunction resetGame(message) {\n  clearInterval(loopingInterval);\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  context.fillText(message, (canvas.width / 2) - 120, (canvas.height / 2));\n  setTimeout(init, 3000);\n}\n\nfunction init() {\n  canvas.addEventListener(\"click\", fullscreen);\n  document.addEventListener('keyup', keyUp, false);\n  document.addEventListener('keydown', keyDown, false);\n\n  player = new Player({\n    x: 0,\n    y: (canvas.height - 90) / 2,\n    width: 30,\n    height: 90,\n    speed: 15\n  });\n\n  enemy = new Player({\n    x: canvas.width - 30,\n    y: (canvas.height - 90) / 2,\n    width: 30,\n    height: 90\n  });\n\n  ball = new Ball({\n    radius: 10,\n    x: canvas.width / 2,\n    y: canvas.height / 2,\n    time: 0,\n    speed: 8\n  });\n\n  ball.start();\n\n  loopingInterval = setInterval(gameLoop, 30);\n}\n\nfunction createLine() {\n  context.beginPath();\n  context.moveTo(canvas.width / 2, 0);\n  context.lineTo(canvas.width / 2, canvas.height);\n  context.strokeStyle = \"#000000\";\n  context.stroke();\n  context.closePath();\n}\n\nfunction gameLoop() {\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  context.fillRect(player.x, player.y, player.width, player.height);\n  context.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);\n  createLine();\n\n  context.beginPath();\n  context.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2, true);\n  context.closePath();\n  context.fill();\n\n  ball.play();\n  ball.collidedWithPlayer(player, keyUpPressed, keyDownPressed);\n  ball.collidedWithEnemy(enemy);\n  ball.collidedWithState(canvas.height);\n\n  enemy.follow(ball);\n\n  if (ball.x < 0) {\n    enemy.goal();\n    ball.reset();\n  }\n\n  if (ball.x > canvas.width) {\n    player.goal();\n    enemy.speedUp();\n    ball.speedUp();\n    ball.reset();\n  }\n\n  if (keyUpPressed) {\n    if (player.y > 0) {\n      player.goUp();\n    }\n  }\n\n  if (keyDownPressed) {\n    if (player.y < (canvas.height - player.height)) {\n      player.goDown();\n    }\n  }\n\n  context.font = \"42pt Helvetica\";\n  context.fillStyle = \"#000000\";\n  context.fillText(player.points + \" \" + enemy.points, (canvas.width / 2) - 39, 50);\n\n  if (player.points >= 9) {\n    resetGame('You won!');\n  } else if (enemy.points >= 9) {\n    resetGame('You lost!');\n  }\n}\n\ninit();\n","require('./game');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('Initialized app');\n});\n","let Player = class Player {\n  constructor(properties) {\n    this.x = properties.x;\n    this.y = properties.y;\n    this.width = properties.width;\n    this.height = properties.height;\n    this.speed = properties.speed || 4;\n    this.points = 0;\n  }\n\n  goUp() {\n    this.y -= this.speed;\n  }\n\n  goDown() {\n    this.y += this.speed;\n  }\n\n  goal() {\n    this.points += 1;\n  }\n\n  speedUp() {\n    this.speed += 1;\n  }\n\n  follow(target) {\n    if (target.y < this.y) {\n      this.goUp();\n    } else if (target.y > (this.y + this.height)) {\n      this.goDown();\n    }\n  }\n};\n\nexport default Player;\n"]}